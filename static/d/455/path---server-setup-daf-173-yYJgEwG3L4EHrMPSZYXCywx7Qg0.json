{"data":{"article":{"html":"<p>Setting up a custom Ferdi server allows you to manage accounts yourself and distribute custom recipes to users of the server only. This is could be useful in an entreprise environment, where you want to store your employee's Ferdi accounts on your own servers and want to distribute company-internal services.</p>\n<h3>Manual setup</h3>\n<ol>\n<li>Clone this repository</li>\n<li>Install the <a href=\"https://adonisjs.com/\">AdonisJS CLI</a></li>\n<li>Copy <code>.env.example</code> to <code>.env</code> and edit the <a href=\"https://github.com/getferdi/server#configuration\">configuration</a> to your needs</li>\n<li>Run <code>npm install</code> to install local dependencies</li>\n<li>\n<p>Run the database migrations with</p>\n<pre><code class=\"language-js\">adonis migration:run\n</code></pre>\n</li>\n<li>\n<p>Start the server with</p>\n<pre><code class=\"language-js\">adonis serve --dev\n</code></pre>\n</li>\n</ol>\n<h3>Setting up with Docker</h3>\n<p>The easiest way to set up Ferdi server on your server is with Docker.</p>\n<p>The Docker image can be run as is, with the default sqlite database or you can modifying your ENV variables to use an external database (e.g. MySQL, MariaDB, Postgres, etc).\nAfter setting up the docker container we recommend you to set up an NGINX reverse proxy to access ferdi-server outside of your home network and protect it with an SSL certificate.</p>\n<ol>\n<li>\n<p>Pull the Docker image</p>\n<pre><code class=\"language-sh\">docker pull getferdi/ferdi-server\n</code></pre>\n</li>\n<li>\n<p>Create a new Docker container with your desired configuration</p>\n<pre><code class=\"language-sh\">docker create \\\n  --name=ferdi-server \\\n    -e NODE_ENV=development \\\n    -e DB_CONNECTION=&#x3C;database> \\\n    -e DB_HOST=&#x3C;yourdbhost> \\\n    -e DB_PORT=&#x3C;yourdbPORT> \\\n    -e DB_USER=&#x3C;yourdbuser> \\\n    -e DB_PASSWORD=&#x3C;yourdbpass> \\\n    -e DB_DATABASE=&#x3C;yourdbdatabase> \\\n    -e IS_CREATION_ENABLED=true \\\n    -e CONNECT_WITH_FRANZ=true \\\n    -p &#x3C;port>:80 \\\n    -v &#x3C;path to data>:/config \\\n    -v &#x3C;path to database>:/usr/src/app/database \\\n    -v &#x3C;path to recipes>:/usr/src/app/recipes \\\n    --restart unless-stopped \\\n    getferdi/ferdi-server\n</code></pre>\n<p>Alternatively, you can also use docker-compose v2 schemas</p>\n<pre><code class=\"language-sh\">---\nversion: \"2\"\nservices:\nferdi-server:\n    image: getferdi/ferdi-server\n    container_name: ferdi-server\n    environment:\n    - NODE_ENV=development\n    - DB_CONNECTION=&#x3C;database>\n    - DB_HOST=&#x3C;yourdbhost>\n    - DB_PORT=&#x3C;yourdbPORT>\n    - DB_USER=&#x3C;yourdbuser>\n    - DB_PASSWORD=&#x3C;yourdbpass>\n    - DB_DATABASE=&#x3C;yourdbdatabase>\n    - IS_CREATION_ENABLED=true/false\n    - CONNECT_WITH_FRANZ=true/false  \n    - IS_REGISTRATION_ENABLED=true/false  \n    - IS_DASHBOARD_ENABLED=true/false  \n    volumes:\n    - &#x3C;path to data>:/config\n    - &#x3C;path to database>:/usr/src/app/database\n    - &#x3C;path to recipes>:/usr/src/app/recipes\n    ports:\n    - &#x3C;port>:80\n    restart: unless-stopped\n</code></pre>\n</li>\n<li>\n<p>Optionally, you can now <a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-16-04#set-up-nginx-as-a-reverse-proxy-server\">set up Nginx as a reverse proxy</a>.</p>\n</li>\n</ol>\n<p>For more information on configuring the Docker image, visit the Docker image repository at <a href=\"https://github.com/getferdi/server-docker\">https://github.com/getferdi/server-docker</a>.</p>","frontmatter":{"path":"server/setup","title":"How do I set up a Ferdi server?"}},"footer":{"html":"<div \n  align=\"center\" \n  style=\"display:flex; justify-content: center;align-items:center;flex-direction:column;margin-top:2.5rem;\">\n  <h4>Still have questions?</h4>\n  <a href=\"https://github.com/getferdi/ferdi/issues\" style=\"display:flex;align-items:center;\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-github\"><path d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\"></path></svg>\n    <span style=\"margin-left: 0.2rem;\">Create a new issue on GitHub</span>\n  </a>\n</div>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"article":"server/setup"}}